<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste Frontend</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./style/style.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  </head>
  <body>
    <section class="bg_color_one">
      <div class="container">
        <header class="logo">
          <img class="mt-3" src="./images/Logo.png" alt="logo" />
        </header>
        <div class="grid_one">
          <div class="box_content_one">
            <h1>Chega de esperar o fim do mês!</h1>
            <p>
              A Empresa proporciona para seus clientes uma solução inovadora que
              transforma radicalmente o dia a dia do RH.
            </p>
          </div>
          <div class="box_img">
            <div class="img01">
              <img src="./images/imagem-01.png" />
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="bg_color_two">
      <div class="container content_two">
        <div class="grid_two">
          <div class="box_content_two">
            <h1>De básico a folha Empresa não tem nada!</h1>
            <p>
              Nosso padrão de folha é o mais completo do mercado! Diferente dos
              outros fornecedores, nossos KPI's, Workflow, Gestão de benefícios
              e eSocial fazem parte do sistema Folha de Pagamentos Empresa sem
              custos adicionais!
            </p>
          </div>
          <div class="img02">
            <img src="./images/imagem-02.png" />
          </div>
        </div>
      </div>
    </section>

    <section class="bg_color_three">
      <div class="grid_three">
        <div class="box_three_content">
          <div class="content">
            <p>Quer levar a Empresa para o seu dia a dia?</p>
          </div>
          <div class="img04">
            <img src="./images/imagem-04.png" />
          </div>
        </div>
        <div class="box_three_form">
          <div class="content">
            <p>Deixa aqui seus dados que entraremos em contato!</p>
          </div>
          <form class="form_camp" name="formulario" id="form">
            <div class="form_control ">
              <label for="name">Nome Completo</label>
              <input name="nome" type="text" id="name"  />
              <small id="msg1" class="small-message"></small>
            </div>
            <div class="form_control">
              <label for="email">Email</label>
              <input type="email" id="email" name="email"  />
              <small id="msg2" class="small-message"></small>
            </div>
            <label>Onde nos conheceu?</label>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value="google"
                id="google"
              />
              <label class="form-check-label" for="google"> Google </label>
            </div>
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value="redessociais"
                id="redessociais"
              />
              <label class="form-check-label" for="google">
                Redes sociais
              </label>
            </div>

            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                value="indicacao"
                id="indicacao"
              />
              <label class="form-check-label" for="indicacao">
                Indicação
              </label>
            </div>

            <div class="form-check">
              <label for="">Quantos de funcionários?</label><br />
              <button class="count" type="button" id="sub">-</button>
              &nbsp;
              <input
                type="number"
                value="0"
                max="10"
                name="numero"
                id="qtyBox"
              />
              &nbsp;
              <button class="count" type="button" id="add">
                +<i class="fa fa-plus-circle" aria-hidden="true"></i>
              </button>
            </div>
            <div>
            <div class="btn-submit">
              <button  type="submit" id="button" class="btn-form">Enviar</button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </body>

  <script>
    let addBtn = document.querySelector("#add");
    let subBtn = document.querySelector("#sub");
    let qty = document.querySelector("#qtyBox");

    addBtn.addEventListener("click", () => {
      qty.value = parseInt(qty.value) + 1;
      if (qty.value >= 10) {
        qty.value = 10;
      }
    });

    subBtn.addEventListener("click", () => {
      if (qty.value <= 0) {
        qty.value = 0;
      } else {
        qty.value = parseInt(qty.value) - 1;
      }
    });

    // validação de formulário
    const form = document.getElementById("form");
    const username = document.getElementById("name");
    const emailUser = document.getElementById("email");

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      checkInputs();
      subimitSucess();
      removeMensager();
      cleanForm();

    });

    //checar inputs se foram preenchidos ou não

    function checkInputs() {
      const usernameValue = username.value.trim();
      const emailValue = emailUser.value.trim();

      if (usernameValue === "") {
        errorValidation(username, "Por favor, informe seu nome completo. ");
      } else{
        sucessValidation(username)
      }
    
      if (emailValue === "") {
        errorValidation(emailUser, "Por favor, informe seu melhor e-mail.");
      }else{
        sucessValidation(emailUser)
      }
      
      
    }

    //mensagem de error e sucesso

    function errorValidation(input, message) {
      const formControl = input.parentElement;

      const smallMessage = formControl.querySelector("small");

      smallMessage.innerText = message;

    }

    function sucessValidation(input){
      const formControl = input.parentElement;

    }


    //remove mensagem de error após 5 segundos

    function removeMensager(){
      setTimeout(() => {

        document.getElementById("msg1").innerHTML=""
        document.getElementById("msg2").innerHTML=""

}, 5000)
    }

    // desabilita o botão e  aparece a mensagem de sucesso 
    //após 3 segundos o botão é habilitado novamente
 
    function subimitSucess(){
      const usernameValue = username.value.trim();
      const emailValue = emailUser.value.trim();
     let sucess = document.getElementById("button")


      if (usernameValue && emailValue !== ''){
        sucess.innerHTML ="Sua mensagem foi enviada com sucesso!"
        let btnDisabled = document.getElementById("button").disabled = true;

        setTimeout(() =>{
          let btnDisabled = document.getElementById("button").disabled = false;
          sucess.innerHTML ="Enviar"
        },3000)
      }
    }

    // limpar inputs do formulário

    function cleanForm(){
      document.getElementById('email').value="";
      document.getElementById('name').value="";
    }


  </script>
</html>
